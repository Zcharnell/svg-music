<!DOCTYPE html>
<!--[if IE 8]>         <html class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--><html> <!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title></title>
  <meta name="keywords" content="" />
  <meta name="description" content="" />

    <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /> -->
  <style>
    body {
      margin:0;
      padding:0;
      overflow-x: hidden;
    }
    #svg1 {
      overflow:hidden;
    }
  </style>
</head>

<body>
  <div id="svg-area">
    <svg width="1000" height="600" id="svg1" style="background-color: rgb(28,39,51)">
      <circle cx="20" cy="20" r="20" fill="green" />
      <circle cx="70" cy="70" r="20" fill="purple" />
      <rect x="110" y="110" height="30" width="30" fill="blue" />
      <rect x="160" y="160" height="30" width="30" fill="red" />
    </svg>
  </div>
<script>
  var svgEle = document.getElementById("svg1");

  console.log(document.body.clientWidth);
  console.log(window.innerWidth);
  console.log(window.outerWidth);
  var width = document.body.clientWidth;
  var height = window.innerHeight;
  svgEle.setAttribute('width',width);
  svgEle.setAttribute('height',height);
  
  var i = 0;
  setInterval(function(){
    i += 50;
    createShape();
  },25);
  // var j = 525;
  // setInterval(function(){
  //  j += 50;
  //  createShape();
  // },25);

  function createShape() {
    var shape = getRandomShape();
    svgEle.appendChild(shape);
    var shapei = 1;
    var shapeOpacityInterval = setInterval(function(){
      shapei -= 0.01;
      shape.setAttribute("style","opacity:"+shapei);
      if(shapei <= 0) {
        svgEle.removeChild(shape);
        clearInterval(shapeOpacityInterval);
      }
    },50)
  }

  function getRandomShape() {
    var rand = Math.floor(Math.random()*1);
    switch(rand) {
      case 0:
        var circle = document.createElementNS("http://www.w3.org/2000/svg","circle");
        circle.setAttributeNS(null, "cx", i%width);
        circle.setAttributeNS(null, "cy", i%height);
        circle.setAttributeNS(null, "r", 15);
        circle.setAttributeNS(null, "fill", getRandomColor());
        return circle;
      case 1:
        var rect = document.createElementNS("http://www.w3.org/2000/svg","rect");
        rect.setAttributeNS(null, "x", i%width-15);
        rect.setAttributeNS(null, "y", i%height-15);
        rect.setAttributeNS(null, "height", 30);
        rect.setAttributeNS(null, "width", 30);
        rect.setAttributeNS(null, "fill", getRandomColor());
        return rect;
    }
  }

  function getRandomColor() {
    var rand = Math.floor(Math.random()*5);
    switch(rand) {
      case 0:
        return 'yellow';
      case 1:
        return 'blue';
      case 2:
        return 'red';
      case 3:
        return 'green';
      case 4:
        return '#DDDDFF';
    }
  }

  /*
  if ( window.svgDocument == null )
        svgDocument = evt.target.ownerDocument;

    var shape = svgDocument.createElementNS(svgns, "circle");
    shape.setAttributeNS(null, "cx", 25);
    shape.setAttributeNS(null, "cy", 25);
    shape.setAttributeNS(null, "r",  20);
    shape.setAttributeNS(null, "fill", "green");
    
    svgDocument.documentElement.appendChild(shape);
    */
</script>
</body>
</html>